(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7333],{7333:(n,e,i)=>{"use strict";i.r(e),i.d(e,{LoginPageModule:()=>Z});var s=i(1116),o=i(1462),t=i(8809),r=i(9185),a=i(4762),l=i(5614),u=i(2590);const g=["slidesPrincipal"],c=[{path:"",component:(()=>{class n{constructor(n,e){this.navCtrl=n,this.authServ=e,this.loginUser={usuario:null,password:null},this.changePass={passnuevo:null,passrepetir:null},this.usuario={user:null,username:null,tokens:null}}ngOnInit(){}ionViewDidEnter(){this.slides.lockSwipes(!0)}login(n){return(0,a.mG)(this,void 0,void 0,function*(){n.valid&&(this.user=yield this.authServ.login(this.loginUser.usuario.toString(),this.loginUser.password.toString()),console.log("Authentication performed for user= "+this.loginUser.usuario+" login result= "+this.user),null!=this.user&&("NEW_PASSWORD_REQUIRED"===this.user.challengeName?(this.slides.lockSwipes(!1),this.slides.slideTo(1),this.slides.lockSwipes(!0)):(this.usuario.user=this.user,this.usuario.username=this.loginUser.usuario,this.usuario.tokens=this.user.signInUserSession,console.log("User authenticated - tokens: ",this.usuario.user,this.usuario.tokens),localStorage.setItem("usuario",JSON.stringify(this.usuario)),this.navCtrl.navigateRoot("/main/tabs/tab1",{animated:!0}))))})}cambiopassword(n){return(0,a.mG)(this,void 0,void 0,function*(){console.log("cambio de contrase\xf1a",n.valid),n.valid&&(this.changePass.passnuevo===this.changePass.passrepetir?(yield this.authServ.completeNewPassword(this.user,this.changePass.passnuevo))&&(this.slides.lockSwipes(!1),this.slides.slideTo(0),this.slides.lockSwipes(!0),alert("Se cambio la contrase\xf1a con \xe9xito, ingrese de nuevo!")):alert("Las contrase\xf1as no son iguales, intente de nuevo"))})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(t.SH),l.Y36(u.e))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(n,e){if(1&n&&l.Gf(g,5),2&n){let n;l.iGM(n=l.CRH())&&(e.slides=n.first)}},decls:57,vars:4,consts:[["color","primary"],[1,"mainSlide"],["slidesPrincipal",""],["fixed",""],[3,"ngSubmit"],["fLogin","ngForm"],["src","/assets/logo1.png"],["name","usuario","type","text","required","",3,"ngModel","ngModelChange"],["name","password","type","password","required","",3,"ngModel","ngModelChange"],["type","submit","color","tertiary","shape","round"],["fRegistro","ngForm"],["name","passnuevo","type","password","required","",3,"ngModel","ngModelChange"],["name","passrepetir","type","password","required","",3,"ngModel","ngModelChange"]],template:function(n,e){if(1&n){const n=l.EpF();l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title",0),l._uU(3,"SSTYLE APP"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(4,"ion-content"),l.TgZ(5,"ion-slides",1,2),l.TgZ(7,"ion-slide"),l.TgZ(8,"ion-grid",3),l.TgZ(9,"form",4,5),l.NdJ("ngSubmit",function(){l.CHM(n);const i=l.MAs(10);return e.login(i)}),l.TgZ(11,"ion-row"),l.TgZ(12,"ion-col"),l._UZ(13,"img",6),l.qZA(),l.qZA(),l.TgZ(14,"ion-row"),l.TgZ(15,"ion-col"),l.TgZ(16,"ion-list"),l.TgZ(17,"ion-item"),l.TgZ(18,"ion-label"),l._uU(19,"Usuario"),l.qZA(),l.TgZ(20,"ion-input",7),l.NdJ("ngModelChange",function(n){return e.loginUser.usuario=n}),l.qZA(),l.qZA(),l.TgZ(21,"ion-item"),l.TgZ(22,"ion-label"),l._uU(23,"Contrase\xf1a"),l.qZA(),l.TgZ(24,"ion-input",8),l.NdJ("ngModelChange",function(n){return e.loginUser.password=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"ion-row"),l.TgZ(26,"ion-col"),l.TgZ(27,"ion-button",9),l._uU(28," Ingresar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"ion-slide"),l.TgZ(30,"ion-grid",3),l.TgZ(31,"ion-row"),l.TgZ(32,"ion-col"),l.TgZ(33,"h3"),l._uU(34,"Cambiar Contrase\xf1a Inicial"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(35,"form",4,10),l.NdJ("ngSubmit",function(){l.CHM(n);const i=l.MAs(36);return e.cambiopassword(i)}),l.TgZ(37,"ion-row"),l.TgZ(38,"ion-col"),l._UZ(39,"img",6),l.qZA(),l.qZA(),l.TgZ(40,"ion-row"),l.TgZ(41,"ion-col"),l.TgZ(42,"ion-list"),l.TgZ(43,"ion-item"),l.TgZ(44,"ion-label"),l._uU(45,"Nueva Contrase\xf1a"),l.qZA(),l.TgZ(46,"ion-input",11),l.NdJ("ngModelChange",function(n){return e.changePass.passnuevo=n}),l.qZA(),l.qZA(),l.TgZ(47,"ion-item"),l.TgZ(48,"ion-label"),l._uU(49,"Contrase\xf1a (repetir)"),l.qZA(),l.TgZ(50,"ion-input",12),l.NdJ("ngModelChange",function(n){return e.changePass.passrepetir=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"p"),l._uU(52,"La contrase\xf1a debe tener al menos 6 caracteres. Requiere M\xednimo: una letra may\xfascula, una letra min\xfasculas y un n\xfamero"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(53,"ion-row"),l.TgZ(54,"ion-col"),l.TgZ(55,"ion-button",9),l._uU(56," Cambiar Contrase\xf1a "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}2&n&&(l.xp6(20),l.Q6J("ngModel",e.loginUser.usuario),l.xp6(4),l.Q6J("ngModel",e.loginUser.password),l.xp6(22),l.Q6J("ngModel",e.changePass.passnuevo),l.xp6(4),l.Q6J("ngModel",e.changePass.passrepetir))},directives:[t.Gu,t.sr,t.wd,t.W2,t.Hr,t.A$,t.jY,o._Y,o.JL,o.F,t.Nd,t.wI,t.q_,t.Ie,t.Q$,t.pK,t.j9,o.Q7,o.JJ,o.On,t.YG],styles:[".mainSlide[_ngcontent-%COMP%]{width:460px;height:100%}img[_ngcontent-%COMP%]{margin:auto;width:196px;display:block}ion-list[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}ion-button[_ngcontent-%COMP%]{width:172px;display:block;margin:auto}p[_ngcontent-%COMP%]{font-size:medium;text-align:justify}"]}),n})()}];let d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[r.Bz.forChild(c)],r.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[s.ez,o.u5,t.Pc,d]]}),n})()}}]);